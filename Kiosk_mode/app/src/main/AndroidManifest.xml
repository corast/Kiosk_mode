<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.sondreweb.kiosk_mode_alpha">

    <uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
    <!-- To auto-complete the email text field in the login form with the user's emails -->
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.READ_PROFILE" />
    <uses-permission android:name="android.permission.READ_CONTACTS" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity
            android:name=".HomeActivity"
            android:excludeFromRecents="true"
            android:label="Simple Launcher Activity"
            android:launchMode="singleTask"
            android:screenOrientation="userLandscape"
            android:stateNotNeeded="true"
            android:theme="@android:style/Theme.Wallpaper.NoTitleBar.Fullscreen">

            <!-- TODO: Fiks orientasjon, slik at vi faktisk bare viser en orientasjon slik som resten av tangoen gjÃ¸r. -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.HOME" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <service
            android:name=".TestAccessiblityService"
            android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE">
            <intent-filter>
                <action android:name="android.accessibilityservice.AccessibilityService" />
            </intent-filter>
        </service>

        <receiver
            android:name=".DeviceAdministator.DeviceAdminKiosk"
            android:label="Monument Vandring Administrator"
            android:permission="android.permission.BIND_DEVICE_ADMIN">

            <!--
            is a permission that a DeviceAdminReceiver subclass must have,
            to ensure that only the system can interact with the receiver
            (no application can be granted this permission). This prevents other applications from abusing your device admin app.
            -->
            <!--
            declares the security policies used in metadata.
            The metadata provides additional information specific to the device administrator,
            as parsed by the DeviceAdminInfo class.
            -->
            <meta-data
                android:name="android.app.device_admin"
                android:resource="@xml/device_admin" />

            <intent-filter>

                <!--
            is the primary action that a DeviceAdminReceiver subclass must handle to be allowed to manage a device.
            This is set to the receiver when the user enables the device admin app. Your code typically handles this in onEnabled()
                -->
                <action android:name="android.app.action.DEVICE_ADMIN_ENABLED" />
            </intent-filter>
        </receiver>

        <activity
            android:excludeFromRecents="true"
            android:name=".LoginAdminActivity"
            android:label="@string/title_activity_login_admin"></activity>
    </application>

</manifest>